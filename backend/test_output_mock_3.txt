
> clubhub-backend@1.0.0 test
> jest --detectOpenHandles tests/feature-public-signup.test.js

  console.log
    ğŸ“ Route: *

      at log (server.js:415:13)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: /api/test-now

      at log (server.js:415:13)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: /health

      at log (server.js:415:13)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: /api/health

      at log (server.js:415:13)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: /api/public-debug/:id

      at log (server.js:415:13)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/register

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/login

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/logout

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/seed-demo-users

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/me

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/find-user

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/add-child

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/children

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/children/:childId

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/organizations

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/context

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/switch-organization

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/profile

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/profile

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/gdpr/export

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/gdpr/delete

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/forgot-password

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/reset-password

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/profile

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/change-password

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/settings

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/settings

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/account

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/switch-organization

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/context

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/me

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/organizations\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/organizations\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/organizations\/?(?=\/|$)/super/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/organizations\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/organizations\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/organizations\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/organizations\/?(?=\/|$)/:id/members

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/organizations\/?(?=\/|$)/:id/images

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/organizations\/?(?=\/|$)/:id/logo

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/organizations\/?(?=\/|$)/:id/images

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/invitations\/?(?=\/|$)/:orgId/invite

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/invitations\/?(?=\/|$)/:token

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/invitations\/?(?=\/|$)/:token/accept

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/invitations\/?(?=\/|$)/:token/decline

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/invitations\/?(?=\/|$)/:orgId/invitations

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/platform-admin\/?(?=\/|$)/stats

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/platform-admin\/?(?=\/|$)/organizations

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/platform-admin\/?(?=\/|$)/users

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/platform-admin\/?(?=\/|$)/organization/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/platform-admin\/?(?=\/|$)/set-admin/:userId

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/platform-admin\/?(?=\/|$)/activity

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/platform-admin\/?(?=\/|$)/users

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/platform-admin\/?(?=\/|$)/users/:userId/status

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/platform-admin\/?(?=\/|$)/users/:userId

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/platform-admin\/?(?=\/|$)/generate-mock-data

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/platform-admin\/?(?=\/|$)/onboard-club

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/clubs\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/clubs\/?(?=\/|$)/:id/public-listings

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/clubs\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/clubs\/?(?=\/|$)/:id/teams

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/clubs\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/clubs\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/clubs\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/clubs\/?(?=\/|$)/:id/apply

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/clubs\/?(?=\/|$)/:id/applications

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/clubs\/?(?=\/|$)/applications/:applicationId/review

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/clubs\/?(?=\/|$)/:id/stats

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/clubs\/?(?=\/|$)/:id/images

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/clubs\/?(?=\/|$)/:id/images

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/family

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/filtered/:filter

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/scout

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/filtered/:filter

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/:id/stats

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/:id/payment-status

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/child

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/child/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/:id/history

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/:id/history

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/history/:historyId

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/:id/history

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/:id/history

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/:id/history/:historyId

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/staff\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/staff\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/staff\/?(?=\/|$)/:id/performance

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/staff\/?(?=\/|$)/:id/role

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/staff\/?(?=\/|$)/:id/schedule

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/staff\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/staff\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/staff\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/staff\/?(?=\/|$)/club/:clubId

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/staff\/?(?=\/|$)/:id/permissions

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/staff\/?(?=\/|$)/:id/dashboard

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/staff\/?(?=\/|$)/:id/performance

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/staff\/?(?=\/|$)/:id/role

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/staff\/?(?=\/|$)/:id/schedule

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/teams\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/teams\/?(?=\/|$)/player/:userId

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/teams\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/teams\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/teams\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/teams\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/teams\/?(?=\/|$)/:id/players

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/teams\/?(?=\/|$)/:id/players/:playerId

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/teams\/?(?=\/|$)/:id/stats

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/teams\/?(?=\/|$)/:id/availability

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/events\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/events\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/events\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/events\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/events\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/events\/?(?=\/|$)/:id/book

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/events\/?(?=\/|$)/bookings/:bookingId/cancel

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/events\/?(?=\/|$)/:id/bookings

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/events\/?(?=\/|$)/bookings/my-bookings

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/events\/?(?=\/|$)/:id/availability

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/events\/?(?=\/|$)/:id/availability

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/events\/?(?=\/|$)/:id/notify

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/events\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/events\/?(?=\/|$)/:id/checkin

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/events\/?(?=\/|$)/:id/checkins

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/config

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/stripe/connect/status

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/stripe/connect/onboard

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/stripe/connect/manage

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/health

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/plans

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/plans/import

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/plans

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/plans/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/plans/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/plan/current

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/plan/assign

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/bulk-assign-plan

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/create-intent

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/confirm-payment

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/public/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/:id/payment-link

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/book-event

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/cleanup

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/stripe-payouts\/?(?=\/|$)/configure-payout/:accountId

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/stripe-payouts\/?(?=\/|$)/payout-schedule/:accountId

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/stripe-payouts\/?(?=\/|$)/configure-all-payouts

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/stripe-payouts\/?(?=\/|$)/manual-payout/:accountId

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/dashboard\/?(?=\/|$)/admin

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/dashboard\/?(?=\/|$)/player

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/invites\/?(?=\/|$)/generate

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/invites\/?(?=\/|$)/details/:token

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/invites\/?(?=\/|$)/accept/:token

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/invites\/?(?=\/|$)/decline/:token

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/invites\/?(?=\/|$)/sent

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/products\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/products\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/products\/?(?=\/|$)/purchase

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/products\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/products\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/campaigns\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/campaigns\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/campaigns\/?(?=\/|$)/:id/send

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/listings\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/listings\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/listings\/?(?=\/|$)/:id/applications

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/listings\/?(?=\/|$)/applications/:id/status

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/listings\/?(?=\/|$)/applications/:id/invite

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/listings\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/notifications\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/notifications\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/notifications\/?(?=\/|$)/:id/read

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/notifications\/?(?=\/|$)/read-all

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/debug\/?(?=\/|$)/check-org/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/talent-id\/?(?=\/|$)/register

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/talent-id\/?(?=\/|$)/events/:id/dashboard

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/talent-id\/?(?=\/|$)/events/:id/schedule

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/talent-id\/?(?=\/|$)/bibs/batch

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/talent-id\/?(?=\/|$)/events/:id/groups

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/talent-id\/?(?=\/|$)/events/:id/auto-assign

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/talent-id\/?(?=\/|$)/registrations/:id/checkin

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/venues\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/venues\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/venues\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/venues\/?(?=\/|$)/:id/availability

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/venues\/?(?=\/|$)/:id/documents

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/venues\/?(?=\/|$)/:id/book

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/venues\/?(?=\/|$)/bookings/my

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/venues\/?(?=\/|$)/bookings/:id/status

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/leagues\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/leagues\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/leagues\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/leagues\/?(?=\/|$)/:id/standings

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/leagues\/?(?=\/|$)/:id/teams

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/leagues\/?(?=\/|$)/:id/fixtures/generate

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/leagues\/?(?=\/|$)/:id/fixtures

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/leagues\/?(?=\/|$)/fixtures/:id/score

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/leagues\/?(?=\/|$)/fixtures/:id/assign-referee

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/polls\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/polls\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/polls\/?(?=\/|$)/:id/vote

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/email\/?(?=\/|$)/send

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/email\/?(?=\/|$)/send-invite

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    2026-02-03T17:01:48.662Z - POST /api/auth/register - ::ffff:127.0.0.1

      at log (server.js:186:11)

  console.log
    2026-02-03T17:01:48.696Z - POST /api/auth/register - ::ffff:127.0.0.1

      at log (server.js:186:11)

  console.log
    2026-02-03T17:01:48.714Z - POST /api/auth/login - ::ffff:127.0.0.1

      at log (server.js:186:11)

  console.log
    ğŸ”‘ Login Attempt: parent@test.com

      at log (routes/auth.js:352:15)

  console.log
    2026-02-03T17:01:48.734Z - POST /api/auth/register - ::ffff:127.0.0.1

      at log (server.js:186:11)

FAIL tests/feature-public-signup.test.js
  Public Registration Flow (Fixed Login Mock)
    Ã— 1. Parent Registration Success (62 ms)
    Ã— 2. Organization Registration Success & Auto-Setup (17 ms)
    âˆš 3. Login Success for User (22 ms)
    âˆš 4. Duplicate Email Fails (14 ms)

  â— Public Registration Flow (Fixed Login Mock) â€º 1. Parent Registration Success

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 409

    [0m [90m 126 |[39m     })[33m;[39m
     [90m 127 |[39m
    [31m[1m>[22m[39m[90m 128 |[39m     expect(res[33m.[39mstatusCode)[33m.[39mtoBe([35m201[39m)[33m;[39m
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 129 |[39m     expect(res[33m.[39mbody[33m.[39muser)[33m.[39mtoHaveProperty([32m"userType"[39m[33m,[39m [32m"adult"[39m)[33m;[39m
     [90m 130 |[39m   })[33m;[39m
     [90m 131 |[39m[0m

      at Object.toBe (tests/feature-public-signup.test.js:128:28)

  â— Public Registration Flow (Fixed Login Mock) â€º 2. Organization Registration Success & Auto-Setup

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 409

    [0m [90m 142 |[39m       })[33m;[39m
     [90m 143 |[39m
    [31m[1m>[22m[39m[90m 144 |[39m     expect(res[33m.[39mstatusCode)[33m.[39mtoBe([35m201[39m)[33m;[39m
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 145 |[39m     expect(res[33m.[39mbody[33m.[39muser)[33m.[39mtoHaveProperty([32m"userType"[39m[33m,[39m [32m"organization"[39m)[33m;[39m
     [90m 146 |[39m     expect(mockClient[33m.[39mquery)[33m.[39mtoHaveBeenCalledWith(
     [90m 147 |[39m       expect[33m.[39mstringContaining([32m"INSERT INTO organizations"[39m)[33m,[39m[0m

      at Object.toBe (tests/feature-public-signup.test.js:144:28)

Test Suites: 1 failed, 1 total
Tests:       2 failed, 2 passed, 4 total
Snapshots:   0 total
Time:        1.346 s, estimated 6 s
Ran all test suites matching tests/feature-public-signup.test.js.

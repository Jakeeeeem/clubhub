
> clubhub-backend@1.0.0 test
> jest --detectOpenHandles tests/feature-public-signup.test.js

  console.log
    ğŸ”Œ DB CONFIG DEBUG: {
      env_db_host: 'db',
      env_pghost: undefined,
      env_database_url: undefined,
      config_host: 'db'
    }

      at Object.log (config/database.js:4:9)

  console.log
    ğŸ”— Connection String (masked): postgresql://clubhub_dev_db_user:****@db:5432/clubhub_dev_db

      at Object.log (config/database.js:14:9)

  console.log
    ğŸ“ Route: *

      at log (server.js:415:13)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: /api/test-now

      at log (server.js:415:13)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: /health

      at log (server.js:415:13)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: /api/health

      at log (server.js:415:13)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: /api/public-debug/:id

      at log (server.js:415:13)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/register

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/login

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/logout

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/seed-demo-users

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/me

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/find-user

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/add-child

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/children

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/children/:childId

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/organizations

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/context

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/switch-organization

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/profile

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/profile

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/gdpr/export

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/gdpr/delete

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/forgot-password

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/reset-password

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/profile

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/change-password

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/settings

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/settings

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/account

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/switch-organization

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/context

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/auth\/?(?=\/|$)/me

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/organizations\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/organizations\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/organizations\/?(?=\/|$)/super/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/organizations\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/organizations\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/organizations\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/organizations\/?(?=\/|$)/:id/members

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/organizations\/?(?=\/|$)/:id/images

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/organizations\/?(?=\/|$)/:id/logo

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/organizations\/?(?=\/|$)/:id/images

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/invitations\/?(?=\/|$)/:orgId/invite

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/invitations\/?(?=\/|$)/:token

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/invitations\/?(?=\/|$)/:token/accept

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/invitations\/?(?=\/|$)/:token/decline

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/invitations\/?(?=\/|$)/:orgId/invitations

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/platform-admin\/?(?=\/|$)/stats

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/platform-admin\/?(?=\/|$)/organizations

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/platform-admin\/?(?=\/|$)/users

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/platform-admin\/?(?=\/|$)/organization/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/platform-admin\/?(?=\/|$)/set-admin/:userId

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/platform-admin\/?(?=\/|$)/activity

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/platform-admin\/?(?=\/|$)/users

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/platform-admin\/?(?=\/|$)/users/:userId/status

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/platform-admin\/?(?=\/|$)/users/:userId

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/platform-admin\/?(?=\/|$)/generate-mock-data

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/platform-admin\/?(?=\/|$)/onboard-club

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/clubs\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/clubs\/?(?=\/|$)/:id/public-listings

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/clubs\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/clubs\/?(?=\/|$)/:id/teams

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/clubs\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/clubs\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/clubs\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/clubs\/?(?=\/|$)/:id/apply

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/clubs\/?(?=\/|$)/:id/applications

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/clubs\/?(?=\/|$)/applications/:applicationId/review

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/clubs\/?(?=\/|$)/:id/stats

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/clubs\/?(?=\/|$)/:id/images

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/clubs\/?(?=\/|$)/:id/images

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/family

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/filtered/:filter

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/scout

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/filtered/:filter

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/:id/stats

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/:id/payment-status

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/child

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/child/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/:id/history

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/:id/history

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/history/:historyId

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/:id/history

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/:id/history

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/players\/?(?=\/|$)/:id/history/:historyId

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/staff\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/staff\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/staff\/?(?=\/|$)/:id/performance

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/staff\/?(?=\/|$)/:id/role

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/staff\/?(?=\/|$)/:id/schedule

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/staff\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/staff\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/staff\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/staff\/?(?=\/|$)/club/:clubId

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/staff\/?(?=\/|$)/:id/permissions

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/staff\/?(?=\/|$)/:id/dashboard

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/staff\/?(?=\/|$)/:id/performance

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/staff\/?(?=\/|$)/:id/role

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/staff\/?(?=\/|$)/:id/schedule

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/teams\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/teams\/?(?=\/|$)/player/:userId

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/teams\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/teams\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/teams\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/teams\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/teams\/?(?=\/|$)/:id/players

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/teams\/?(?=\/|$)/:id/players/:playerId

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/teams\/?(?=\/|$)/:id/stats

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/teams\/?(?=\/|$)/:id/availability

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/events\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/events\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/events\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/events\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/events\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/events\/?(?=\/|$)/:id/book

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/events\/?(?=\/|$)/bookings/:bookingId/cancel

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/events\/?(?=\/|$)/:id/bookings

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/events\/?(?=\/|$)/bookings/my-bookings

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/events\/?(?=\/|$)/:id/availability

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/events\/?(?=\/|$)/:id/availability

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/events\/?(?=\/|$)/:id/notify

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/events\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/events\/?(?=\/|$)/:id/checkin

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/events\/?(?=\/|$)/:id/checkins

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/config

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/stripe/connect/status

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/stripe/connect/onboard

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/stripe/connect/manage

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/health

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/plans

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/plans/import

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/plans

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/plans/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/plans/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/plan/current

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/plan/assign

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/bulk-assign-plan

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/create-intent

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/confirm-payment

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/public/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/:id/payment-link

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/book-event

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/payments\/?(?=\/|$)/cleanup

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/stripe-payouts\/?(?=\/|$)/configure-payout/:accountId

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/stripe-payouts\/?(?=\/|$)/payout-schedule/:accountId

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/stripe-payouts\/?(?=\/|$)/configure-all-payouts

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/stripe-payouts\/?(?=\/|$)/manual-payout/:accountId

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/dashboard\/?(?=\/|$)/admin

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/dashboard\/?(?=\/|$)/player

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/invites\/?(?=\/|$)/generate

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/invites\/?(?=\/|$)/details/:token

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/invites\/?(?=\/|$)/accept/:token

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/invites\/?(?=\/|$)/decline/:token

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/invites\/?(?=\/|$)/sent

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/products\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/products\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/products\/?(?=\/|$)/purchase

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/products\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/products\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/campaigns\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/campaigns\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/campaigns\/?(?=\/|$)/:id/send

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/listings\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/listings\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/listings\/?(?=\/|$)/:id/applications

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/listings\/?(?=\/|$)/applications/:id/status

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/listings\/?(?=\/|$)/applications/:id/invite

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/listings\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/notifications\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/notifications\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/notifications\/?(?=\/|$)/:id/read

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/notifications\/?(?=\/|$)/read-all

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/debug\/?(?=\/|$)/check-org/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/talent-id\/?(?=\/|$)/register

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/talent-id\/?(?=\/|$)/events/:id/dashboard

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/talent-id\/?(?=\/|$)/events/:id/schedule

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/talent-id\/?(?=\/|$)/bibs/batch

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/talent-id\/?(?=\/|$)/events/:id/groups

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/talent-id\/?(?=\/|$)/events/:id/auto-assign

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/talent-id\/?(?=\/|$)/registrations/:id/checkin

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/venues\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/venues\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/venues\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/venues\/?(?=\/|$)/:id/availability

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/venues\/?(?=\/|$)/:id/documents

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/venues\/?(?=\/|$)/:id/book

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/venues\/?(?=\/|$)/bookings/my

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/venues\/?(?=\/|$)/bookings/:id/status

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/leagues\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/leagues\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/leagues\/?(?=\/|$)/:id

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/leagues\/?(?=\/|$)/:id/standings

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/leagues\/?(?=\/|$)/:id/teams

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/leagues\/?(?=\/|$)/:id/fixtures/generate

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/leagues\/?(?=\/|$)/:id/fixtures

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/leagues\/?(?=\/|$)/fixtures/:id/score

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/leagues\/?(?=\/|$)/fixtures/:id/assign-referee

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/polls\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/polls\/?(?=\/|$)/

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/polls\/?(?=\/|$)/:id/vote

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/email\/?(?=\/|$)/send

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“ Route: ^\/api\/email\/?(?=\/|$)/send-invite

      at log (server.js:419:17)
          at Array.forEach (<anonymous>)
          at Array.forEach (<anonymous>)

  console.log
    2026-02-03T16:46:06.603Z - POST /api/auth/register - ::ffff:127.0.0.1

      at log (server.js:186:11)

  console.error
    âŒ Query failed: {
      text: 'SELECT * FROM users WHERE email = $1...',
      error: 'getaddrinfo ENOTFOUND db'
    }

    [0m [90m 81 |[39m     [36mreturn[39m res[33m;[39m
     [90m 82 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 83 |[39m     console[33m.[39merror([32m"âŒ Query failed:"[39m[33m,[39m {
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 84 |[39m       text[33m:[39m text[33m.[39msubstring([35m0[39m[33m,[39m [35m50[39m) [33m+[39m [32m"..."[39m[33m,[39m
     [90m 85 |[39m       error[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 86 |[39m     })[33m;[39m[0m

      at error (config/database.js:83:13)
      at routes/auth.js:166:26

  console.error
    âŒ Registration error: Error: getaddrinfo ENOTFOUND db
        at C:\Users\Dell\Documents\elitepro\clubhub\backend\node_modules\pg-pool\index.js:45:11
        at processTicksAndRejections (node:internal/process/task_queues:95:5)
        at query (C:\Users\Dell\Documents\elitepro\clubhub\backend\config\database.js:74:17)
        at C:\Users\Dell\Documents\elitepro\clubhub\backend\routes\auth.js:166:26 {
      errno: -3008,
      code: 'ENOTFOUND',
      syscall: 'getaddrinfo',
      hostname: 'db'
    }

    [0m [90m 319 |[39m     })[33m;[39m
     [90m 320 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 321 |[39m     console[33m.[39merror([32m"âŒ Registration error:"[39m[33m,[39m error)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 322 |[39m     console[33m.[39merror([32m"Error details:"[39m[33m,[39m {
     [90m 323 |[39m       message[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 324 |[39m       code[33m:[39m error[33m.[39mcode[33m,[39m[0m

      at error (routes/auth.js:321:13)

  console.error
    Error details: {
      message: 'getaddrinfo ENOTFOUND db',
      code: 'ENOTFOUND',
      detail: undefined,
      table: undefined,
      column: undefined
    }

    [0m [90m 320 |[39m   } [36mcatch[39m (error) {
     [90m 321 |[39m     console[33m.[39merror([32m"âŒ Registration error:"[39m[33m,[39m error)[33m;[39m
    [31m[1m>[22m[39m[90m 322 |[39m     console[33m.[39merror([32m"Error details:"[39m[33m,[39m {
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 323 |[39m       message[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 324 |[39m       code[33m:[39m error[33m.[39mcode[33m,[39m
     [90m 325 |[39m       detail[33m:[39m error[33m.[39mdetail[33m,[39m[0m

      at error (routes/auth.js:322:13)

  console.log
    2026-02-03T16:46:09.377Z - POST /api/auth/register - ::ffff:127.0.0.1

      at log (server.js:186:11)

  console.error
    âŒ Query failed: {
      text: 'SELECT * FROM users WHERE email = $1...',
      error: 'getaddrinfo ENOTFOUND db'
    }

    [0m [90m 81 |[39m     [36mreturn[39m res[33m;[39m
     [90m 82 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 83 |[39m     console[33m.[39merror([32m"âŒ Query failed:"[39m[33m,[39m {
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 84 |[39m       text[33m:[39m text[33m.[39msubstring([35m0[39m[33m,[39m [35m50[39m) [33m+[39m [32m"..."[39m[33m,[39m
     [90m 85 |[39m       error[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 86 |[39m     })[33m;[39m[0m

      at error (config/database.js:83:13)
      at routes/auth.js:166:26

  console.error
    âŒ Registration error: Error: getaddrinfo ENOTFOUND db
        at C:\Users\Dell\Documents\elitepro\clubhub\backend\node_modules\pg-pool\index.js:45:11
        at processTicksAndRejections (node:internal/process/task_queues:95:5)
        at query (C:\Users\Dell\Documents\elitepro\clubhub\backend\config\database.js:74:17)
        at C:\Users\Dell\Documents\elitepro\clubhub\backend\routes\auth.js:166:26 {
      errno: -3008,
      code: 'ENOTFOUND',
      syscall: 'getaddrinfo',
      hostname: 'db'
    }

    [0m [90m 319 |[39m     })[33m;[39m
     [90m 320 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 321 |[39m     console[33m.[39merror([32m"âŒ Registration error:"[39m[33m,[39m error)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 322 |[39m     console[33m.[39merror([32m"Error details:"[39m[33m,[39m {
     [90m 323 |[39m       message[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 324 |[39m       code[33m:[39m error[33m.[39mcode[33m,[39m[0m

      at error (routes/auth.js:321:13)

  console.error
    Error details: {
      message: 'getaddrinfo ENOTFOUND db',
      code: 'ENOTFOUND',
      detail: undefined,
      table: undefined,
      column: undefined
    }

    [0m [90m 320 |[39m   } [36mcatch[39m (error) {
     [90m 321 |[39m     console[33m.[39merror([32m"âŒ Registration error:"[39m[33m,[39m error)[33m;[39m
    [31m[1m>[22m[39m[90m 322 |[39m     console[33m.[39merror([32m"Error details:"[39m[33m,[39m {
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 323 |[39m       message[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 324 |[39m       code[33m:[39m error[33m.[39mcode[33m,[39m
     [90m 325 |[39m       detail[33m:[39m error[33m.[39mdetail[33m,[39m[0m

      at error (routes/auth.js:322:13)

  console.log
    2026-02-03T16:46:12.102Z - POST /api/auth/login - ::ffff:127.0.0.1

      at log (server.js:186:11)

  console.log
    ğŸ”‘ Login Attempt: parent_1770137166553@test.com

      at log (routes/auth.js:352:15)

  console.error
    âŒ Query failed: {
      text: 'SELECT * FROM users WHERE email = $1...',
      error: 'getaddrinfo ENOTFOUND db'
    }

    [0m [90m 81 |[39m     [36mreturn[39m res[33m;[39m
     [90m 82 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 83 |[39m     console[33m.[39merror([32m"âŒ Query failed:"[39m[33m,[39m {
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 84 |[39m       text[33m:[39m text[33m.[39msubstring([35m0[39m[33m,[39m [35m50[39m) [33m+[39m [32m"..."[39m[33m,[39m
     [90m 85 |[39m       error[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 86 |[39m     })[33m;[39m[0m

      at error (config/database.js:83:13)
      at routes/auth.js:647:26

  console.error
    Login error: Error: getaddrinfo ENOTFOUND db
        at C:\Users\Dell\Documents\elitepro\clubhub\backend\node_modules\pg-pool\index.js:45:11
        at processTicksAndRejections (node:internal/process/task_queues:95:5)
        at query (C:\Users\Dell\Documents\elitepro\clubhub\backend\config\database.js:74:17)
        at C:\Users\Dell\Documents\elitepro\clubhub\backend\routes\auth.js:647:26 {
      errno: -3008,
      code: 'ENOTFOUND',
      syscall: 'getaddrinfo',
      hostname: 'db'
    }

    [0m [90m 683 |[39m       })[33m;[39m
     [90m 684 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 685 |[39m       console[33m.[39merror([32m"Login error:"[39m[33m,[39m error)[33m;[39m
     [90m     |[39m               [31m[1m^[22m[39m
     [90m 686 |[39m       res[33m.[39mstatus([35m500[39m)[33m.[39mjson({
     [90m 687 |[39m         error[33m:[39m [32m"Login failed"[39m[33m,[39m
     [90m 688 |[39m         message[33m:[39m error[33m.[39mmessage[33m,[39m[0m

      at error (routes/auth.js:685:15)

  console.log
    2026-02-03T16:46:14.843Z - POST /api/auth/register - ::ffff:127.0.0.1

      at log (server.js:186:11)

  console.error
    âŒ Query failed: {
      text: 'SELECT * FROM users WHERE email = $1...',
      error: 'getaddrinfo ENOTFOUND db'
    }

    [0m [90m 81 |[39m     [36mreturn[39m res[33m;[39m
     [90m 82 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 83 |[39m     console[33m.[39merror([32m"âŒ Query failed:"[39m[33m,[39m {
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 84 |[39m       text[33m:[39m text[33m.[39msubstring([35m0[39m[33m,[39m [35m50[39m) [33m+[39m [32m"..."[39m[33m,[39m
     [90m 85 |[39m       error[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 86 |[39m     })[33m;[39m[0m

      at error (config/database.js:83:13)
      at routes/auth.js:166:26

  console.error
    âŒ Registration error: Error: getaddrinfo ENOTFOUND db
        at C:\Users\Dell\Documents\elitepro\clubhub\backend\node_modules\pg-pool\index.js:45:11
        at processTicksAndRejections (node:internal/process/task_queues:95:5)
        at query (C:\Users\Dell\Documents\elitepro\clubhub\backend\config\database.js:74:17)
        at C:\Users\Dell\Documents\elitepro\clubhub\backend\routes\auth.js:166:26 {
      errno: -3008,
      code: 'ENOTFOUND',
      syscall: 'getaddrinfo',
      hostname: 'db'
    }

    [0m [90m 319 |[39m     })[33m;[39m
     [90m 320 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 321 |[39m     console[33m.[39merror([32m"âŒ Registration error:"[39m[33m,[39m error)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 322 |[39m     console[33m.[39merror([32m"Error details:"[39m[33m,[39m {
     [90m 323 |[39m       message[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 324 |[39m       code[33m:[39m error[33m.[39mcode[33m,[39m[0m

      at error (routes/auth.js:321:13)

  console.error
    Error details: {
      message: 'getaddrinfo ENOTFOUND db',
      code: 'ENOTFOUND',
      detail: undefined,
      table: undefined,
      column: undefined
    }

    [0m [90m 320 |[39m   } [36mcatch[39m (error) {
     [90m 321 |[39m     console[33m.[39merror([32m"âŒ Registration error:"[39m[33m,[39m error)[33m;[39m
    [31m[1m>[22m[39m[90m 322 |[39m     console[33m.[39merror([32m"Error details:"[39m[33m,[39m {
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 323 |[39m       message[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 324 |[39m       code[33m:[39m error[33m.[39mcode[33m,[39m
     [90m 325 |[39m       detail[33m:[39m error[33m.[39mdetail[33m,[39m[0m

      at error (routes/auth.js:322:13)

  console.error
    âŒ Query failed: {
      text: 'DELETE FROM users WHERE email IN ($1, $2)...',
      error: 'getaddrinfo ENOTFOUND db'
    }

    [0m [90m 81 |[39m     [36mreturn[39m res[33m;[39m
     [90m 82 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 83 |[39m     console[33m.[39merror([32m"âŒ Query failed:"[39m[33m,[39m {
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 84 |[39m       text[33m:[39m text[33m.[39msubstring([35m0[39m[33m,[39m [35m50[39m) [33m+[39m [32m"..."[39m[33m,[39m
     [90m 85 |[39m       error[33m:[39m error[33m.[39mmessage[33m,[39m
     [90m 86 |[39m     })[33m;[39m[0m

      at error (config/database.js:83:13)
      at Object.<anonymous> (tests/feature-public-signup.test.js:24:5)

FAIL tests/feature-public-signup.test.js (14.628 s)
  â— Public Registration Flow â€º 1. Parent Registration Success

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 500

    [0m [90m 37 |[39m     })[33m;[39m
     [90m 38 |[39m
    [31m[1m>[22m[39m[90m 39 |[39m     expect(res[33m.[39mstatusCode)[33m.[39mtoBe([35m201[39m)[33m;[39m
     [90m    |[39m                            [31m[1m^[22m[39m
     [90m 40 |[39m     expect(res[33m.[39mbody)[33m.[39mtoHaveProperty([32m"token"[39m)[33m;[39m
     [90m 41 |[39m     expect(res[33m.[39mbody[33m.[39muser)[33m.[39mtoHaveProperty([32m"email"[39m[33m,[39m parentEmail)[33m;[39m
     [90m 42 |[39m     expect(res[33m.[39mbody[33m.[39muser)[33m.[39mtoHaveProperty([32m"account_type"[39m[33m,[39m [32m"adult"[39m)[33m;[39m[0m

      at Object.toBe (tests/feature-public-signup.test.js:39:28)

  â— Public Registration Flow â€º 2. Organization Registration Success & Auto-Setup

    expect(received).toBe(expected) // Object.is equality

    Expected: 201
    Received: 500

    [0m [90m 55 |[39m       })[33m;[39m
     [90m 56 |[39m
    [31m[1m>[22m[39m[90m 57 |[39m     expect(res[33m.[39mstatusCode)[33m.[39mtoBe([35m201[39m)[33m;[39m
     [90m    |[39m                            [31m[1m^[22m[39m
     [90m 58 |[39m     expect(res[33m.[39mbody)[33m.[39mtoHaveProperty([32m"token"[39m)[33m;[39m
     [90m 59 |[39m     expect(res[33m.[39mbody[33m.[39muser)[33m.[39mtoHaveProperty([32m"account_type"[39m[33m,[39m [32m"organization"[39m)[33m;[39m
     [90m 60 |[39m[0m

      at Object.toBe (tests/feature-public-signup.test.js:57:28)

  â— Public Registration Flow â€º 3. Login Success for New User

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

    [0m [90m 75 |[39m     })[33m;[39m
     [90m 76 |[39m
    [31m[1m>[22m[39m[90m 77 |[39m     expect(res[33m.[39mstatusCode)[33m.[39mtoBe([35m200[39m)[33m;[39m
     [90m    |[39m                            [31m[1m^[22m[39m
     [90m 78 |[39m     expect(res[33m.[39mbody)[33m.[39mtoHaveProperty([32m"token"[39m)[33m;[39m
     [90m 79 |[39m     expect(res[33m.[39mbody[33m.[39muser[33m.[39memail)[33m.[39mtoBe(parentEmail)[33m;[39m
     [90m 80 |[39m   })[33m;[39m[0m

      at Object.toBe (tests/feature-public-signup.test.js:77:28)

  â— Public Registration Flow â€º 4. Duplicate Email Fails

    expect(received).toBe(expected) // Object.is equality

    Expected: 409
    Received: 500

    [0m [90m 89 |[39m     })[33m;[39m
     [90m 90 |[39m
    [31m[1m>[22m[39m[90m 91 |[39m     expect(res[33m.[39mstatusCode)[33m.[39mtoBe([35m409[39m)[33m;[39m
     [90m    |[39m                            [31m[1m^[22m[39m
     [90m 92 |[39m   })[33m;[39m
     [90m 93 |[39m })[33m;[39m
     [90m 94 |[39m[0m

      at Object.toBe (tests/feature-public-signup.test.js:91:28)


  â— Test suite failed to run

    getaddrinfo ENOTFOUND db

    [0m [90m 72 |[39m   [36mconst[39m start [33m=[39m [33mDate[39m[33m.[39mnow()[33m;[39m
     [90m 73 |[39m   [36mtry[39m {
    [31m[1m>[22m[39m[90m 74 |[39m     [36mconst[39m res [33m=[39m [36mawait[39m pool[33m.[39mquery(text[33m,[39m params)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 75 |[39m     [36mconst[39m duration [33m=[39m [33mDate[39m[33m.[39mnow() [33m-[39m start[33m;[39m
     [90m 76 |[39m     console[33m.[39mlog([32m"âš¡ Query executed:"[39m[33m,[39m {
     [90m 77 |[39m       text[33m:[39m text[33m.[39msubstring([35m0[39m[33m,[39m [35m50[39m) [33m+[39m [32m"..."[39m[33m,[39m[0m

      at node_modules/pg-pool/index.js:45:11
      at query (config/database.js:74:17)
      at Object.<anonymous> (tests/feature-public-signup.test.js:24:5)

Test Suites: 1 failed, 1 total
Tests:       4 failed, 4 total
Snapshots:   0 total
Time:        14.713 s, estimated 16 s
Ran all test suites matching tests/feature-public-signup.test.js.

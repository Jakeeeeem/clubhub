<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coach Dashboard - ClubHub</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <header class="header">
        <nav class="nav container">
            <div class="logo" onclick="window.location.href='index.html'">
                <img src="images/logo.png" alt="ClubHub Logo" class="logo-image">
                <span class="logo-text">ClubHub</span>
            </div>
            <div class="nav-buttons" id="loggedInNav">
                <!-- Populated by JavaScript -->
            </div>
        </nav>
    </header>

    <main class="main">
        <div class="dashboard container dashboard-container">
            <div class="dashboard-header">
                <h1 class="neon-text">Coach Dashboard</h1>
                <p>Manage your teams and coaching activities</p>
            </div>

            <!-- Dashboard Navigation -->
            <div class="dashboard-nav">
                <button class="active" onclick="showCoachSection('overview')">Overview</button>
                <button onclick="showCoachSection('teams')">My Teams</button>
                <button onclick="showCoachSection('players')">Players</button>
                <button onclick="showCoachSection('events')">Events</button>
                <button onclick="showCoachSection('tactical-board')">Tactical Board</button>
                <button onclick="showCoachSection('event-finder')">Event Finder</button>
                <button onclick="showCoachSection('item-shop')">ðŸ›’ Item Shop</button>
            </div>

            <div class="dashboard-content">
                <!-- Overview Section -->
                <div id="coach-overview" class="dashboard-section active">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <span class="stat-number" id="coachTotalTeams">0</span>
                            <span class="stat-label">Teams Managed</span>
                        </div>
                        <div class="stat-card">
                            <span class="stat-number" id="coachTotalPlayers">0</span>
                            <span class="stat-label">Total Players</span>
                        </div>
                        <div class="stat-card">
                            <span class="stat-number" id="coachUpcomingEvents">0</span>
                            <span class="stat-label">Upcoming Events</span>
                        </div>
                        <div class="stat-card">
                            <span class="stat-number" id="coachWinRate">0%</span>
                            <span class="stat-label">Win Rate</span>
                        </div>
                    </div>

                    <div class="card-grid">
                        <div class="card">
                            <h3>Recent Match Results</h3>
                            <div id="recentMatches">
                                <!-- Populated by JavaScript -->
                            </div>
                        </div>

                        <div class="card">
                            <h3>Today's Schedule</h3>
                            <div id="todaySchedule">
                                <!-- Populated by JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Teams Section -->
                <div id="coach-teams" class="dashboard-section">
                    <div class="card">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                            <h3>My Teams</h3>
                            <button class="btn btn-primary" onclick="showModal('createTeamModal')">Create Team</button>
                        </div>

                        <div class="card-grid" id="coachTeamsContainer">
                            <!-- Populated by JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Players Section -->
                <div id="coach-players" class="dashboard-section">
                    <div class="card">
                        <h3>Team Players</h3>

                        <div class="search-filters">
                            <div class="form-group">
                                <label for="teamFilter">Filter by Team</label>
                                <select id="teamFilter" onchange="filterCoachPlayers()">
                                    <option value="">All Teams</option>
                                    <!-- Populated by JavaScript -->
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="playerSearchCoach">Search Players</label>
                                <input type="text" id="playerSearchCoach" placeholder="Search by name..."
                                    onkeyup="filterCoachPlayers()">
                            </div>
                        </div>

                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Team</th>
                                    <th>Position</th>
                                    <th>Age</th>
                                    <th>Attendance</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="coachPlayersTableBody">
                                <!-- Populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Events Section -->
                <div id="coach-events" class="dashboard-section">
                    <div class="card">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                            <h3>Team Events</h3>
                            <button class="btn btn-primary" onclick="showModal('addTeamEventModal')">Add Event</button>
                        </div>

                        <div class="card-grid" id="coachEventsContainer">
                            <!-- Populated by JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Tactical Board Section -->
                <div id="coach-tactical-board" class="dashboard-section">
                    <div class="card">
                        <h3>Tactical Board</h3>
                        <div class="tactical-board-container">
                            <div class="formation-selector">
                                <label for="formationSelect">Formation:</label>
                                <select id="formationSelect" onchange="setFormation()">
                                    <option value="4-4-2">4-4-2</option>
                                    <option value="4-3-3">4-3-3</option>
                                    <option value="3-5-2">3-5-2</option>
                                    <option value="4-2-3-1">4-2-3-1</option>
                                </select>
                                <button class="btn btn-secondary btn-small" onclick="clearBoard()">Clear</button>
                                <button class="btn btn-primary btn-small" onclick="saveFormation()">Save</button>
                            </div>

                            <div class="tactical-board" id="tacticalBoard">
                                <!-- Football pitch will be drawn here -->
                            </div>

                            <div class="player-list">
                                <h4>Available Players</h4>
                                <div id="availablePlayers">
                                    <!-- Player list will be populated here -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Event Finder Section -->
                <div id="coach-event-finder" class="dashboard-section">
                    <div class="card">
                        <h3>Event Finder</h3>

                        <div class="search-filters">
                            <div class="form-group">
                                <label for="eventTypeFilter">Event Type</label>
                                <select id="eventTypeFilter" onchange="filterEvents()">
                                    <option value="">All Types</option>
                                    <option value="tournament">Tournaments</option>
                                    <option value="training">Training</option>
                                    <option value="camp">Camps</option>
                                    <option value="match">Matches</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="eventDateFilter">Date Range</label>
                                <input type="date" id="eventDateFilter" onchange="filterEvents()">
                            </div>
                            <div class="form-group">
                                <label for="eventLocationFilter">Location</label>
                                <input type="text" id="eventLocationFilter" placeholder="Search by location..."
                                    onkeyup="filterEvents()">
                            </div>
                        </div>

                        <div class="card-grid" id="availableEventsContainer">
                            <!-- Available events will be populated here -->
                        </div>
                    </div>
                </div>

                <!-- Item Shop Section -->
                <div id="coach-item-shop" class="dashboard-section">
                    <div class="card">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                            <h3>ðŸ›’ Club Merchandise</h3>
                            <div id="shopFilters">
                                <select id="shopClubFilter" onchange="loadCoachProducts()">
                                    <option value="">All My Clubs</option>
                                </select>
                            </div>
                        </div>
                        <div id="shopProducts" class="card-grid">
                            <!-- Products will be loaded by JS -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Modals -->

    <!-- Create Team Modal -->
    <div id="createTeamModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Create New Team</h2>
                <button class="close" onclick="closeModal('createTeamModal')">&times;</button>
            </div>
            <form id="createTeamForm">
                <div class="form-group">
                    <label for="teamName">Team Name</label>
                    <input type="text" id="teamName" required>
                </div>
                <div class="form-group">
                    <label for="teamAgeGroup">Age Group</label>
                    <select id="teamAgeGroup" required>
                        <option value="">Select Age Group</option>
                        <option value="U8">Under 8</option>
                        <option value="U10">Under 10</option>
                        <option value="U12">Under 12</option>
                        <option value="U14">Under 14</option>
                        <option value="U16">Under 16</option>
                        <option value="U18">Under 18</option>
                        <option value="Senior">Senior</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="teamSport">Sport</label>
                    <select id="teamSport" required>
                        <option value="">Select Sport</option>
                        <option value="football">Football</option>
                        <option value="basketball">Basketball</option>
                        <option value="tennis">Tennis</option>
                        <option value="rugby">Rugby</option>
                        <option value="cricket">Cricket</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="teamDescription">Description</label>
                    <textarea id="teamDescription" rows="3"></textarea>
                </div>
                <button type="submit" class="btn btn-primary">Create Team</button>
            </form>
        </div>
    </div>

    <!-- Add Team Event Modal -->
    <div id="addTeamEventModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add Team Event</h2>
                <button class="close" onclick="closeModal('addTeamEventModal')">&times;</button>
            </div>
            <form id="addTeamEventForm">
                <div class="form-group">
                    <label for="eventTeamSelect">Select Team</label>
                    <select id="eventTeamSelect" required>
                        <!-- Populated by JavaScript -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="teamEventTitle">Event Title</label>
                    <input type="text" id="teamEventTitle" required>
                </div>
                <div class="form-group">
                    <label for="teamEventType">Event Type</label>
                    <select id="teamEventType" required>
                        <option value="">Select Type</option>
                        <option value="training">Training Session</option>
                        <option value="match">Match</option>
                        <option value="friendly">Friendly Match</option>
                        <option value="tournament">Tournament</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="teamEventDate">Date</label>
                    <input type="date" id="teamEventDate" required>
                </div>
                <div class="form-group">
                    <label for="teamEventTime">Time</label>
                    <input type="time" id="teamEventTime" required>
                </div>
                <div class="form-group">
                    <label for="teamEventLocation">Location</label>
                    <input type="text" id="teamEventLocation" required>
                </div>
                <div class="form-group">
                    <label for="teamEventOpponent">Opponent (if applicable)</label>
                    <input type="text" id="teamEventOpponent">
                </div>
                <button type="submit" class="btn btn-primary">Add Event</button>
            </form>
        </div>
    </div>

    <!-- Player Stats Modal -->
    <div id="playerStatsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Player Statistics</h2>
                <button class="close" onclick="closeModal('playerStatsModal')">&times;</button>
            </div>
            <div id="playerStatsContent">
                <!-- Player stats content will be populated here -->
            </div>
        </div>
    </div>

    <!-- Match Result Modal -->
    <div id="matchResultModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Record Match Result</h2>
                <button class="close" onclick="closeModal('matchResultModal')">&times;</button>
            </div>
            <form id="matchResultForm">
                <input type="hidden" id="matchEventId">
                <div class="form-group">
                    <label for="homeScore">Home Team Score</label>
                    <input type="number" id="homeScore" min="0" required>
                </div>
                <div class="form-group">
                    <label for="awayScore">Away Team Score</label>
                    <input type="number" id="awayScore" min="0" required>
                </div>
                <div class="form-group">
                    <label for="matchNotes">Match Notes</label>
                    <textarea id="matchNotes" rows="4" placeholder="Key moments, player performances, etc."></textarea>
                </div>
                <div class="form-group">
                    <label>Player Ratings</label>
                    <div id="playerRatings">
                        <!-- Player rating inputs will be populated here -->
                    </div>
                </div>
                <button type="submit" class="btn btn-primary">Save Result</button>
            </form>
        </div>
    </div>

    <script src="script.js"></script>
    <script src="coach-dashboard.js"></script>

</body>

</html>